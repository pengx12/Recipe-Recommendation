# reciperecommendation
The system works as a hybrid recommending system on both nutrition and flavour part. 
The nutritious recommendation is based on the users’ healthy condition and the ingredient-nutrition database. According to the calorie level assessed based on user’s body condition, we could get daily macronutrients goals for specific users. Users’ healthy goal, for example, losing weight or becoming stronger will also be asked and can be taken into consideration to recommend recipes that suits individual nutrition requirement. 
As for the flavour part, the recipe will be projected into ingredients and the ingredients will be projected into compounds. Our system will calculate the similarity of ingredient compounds as well as simple ingredient as it usually tells more thing. We use TF-IDF and Cosine Similarity to calculate the similarity of ingredients in recipes and clustering to find the similarity of compounds in recipes. 
Based on user’s historical choice and rating, we will recommend similar results by content filtering method mentioned above. The result will be then mixed with Collaborative Filtering result by different proportions. In the process, users’ basic information, especially the regional information as well as cooking proficiency would make great contributions. 
Besides that, we add some rules to constrain the result sets. For example, same recipe need to be filtered out in a short time as people are always curious about new things and will not want to receive a same recipe.
 
When user registers, the system will ask for people’s basic information like sex, age, region as well as activity level and fitness goals. The body condition information will be used to calculate Estimated Energy Requirements (EER) and the nutrition they need will be stored in the database while the region information will be used to infer what flavour would be suitable for the users.
Every time when the user selects one of our recommendation and give a rate, the information will be recorded. As the system knows users’ historical flavour, clustering algorithms like KNN[8], DBSCAN[9] or Agglomerate Clustering[10] on compounds in recipe can be implemented to find out what other recipes are similar to those recipes. Ingredient information are utilized by TF-IDF[11] algorithm and Cosine similarity[12]. We need to avoid giving recommendation of similar ingredients or similar compounds as people are always curious to try new things. Our system will generate two clustering sets. A smaller dataset which is extremely similar to one’s historical preference while the larger dataset has constrains on his/her hometown flavour and could find his/her potential preference. We mix the datasets using different proportion so that the users are not given a recommendation with similar ingredients or only dishes of their taste of home. Other users’ historical preference can also be utilized by Collaborative Filtering. 
The results with different filtering will be combined in a dataset, we will label each result with its filtering method (e.g. compound clustering, content filtering). When the user select one recipe, we will update the proportion weight of the different filtering results. For example if the recipe is recommended by smaller compounds clustering dataset, it might suggest that the user is satisfied with similar compounds recommendation and we can give more recommendation in that way. On the other hand, if the recipe is recommended by collaborative filtering, our system will reckon the user enjoying the similar taste which other users like. Otherwise he may be addicted to some ingredients and will always choose the result based on similar ingredients or the local food. The weight of these suggestions will be added in the next recommendation process. 
 
By calculation, we found that 3 dishes for a meal will be a good choice for people’s health. After mixing the different filtering results by different proportion, we will traverse the dataset to find the combination of 3 dishes that meet the nutrition demand based on the EER calculated by user’s body condition and then select the proper recipe group randomly as a recommendation choice.
